workplace = """
    In workplace conversations, showing emotional intelligence is equally important. Below are key points to consider when communicating:

    Considerate Preamble: Start conversations with a considerate preamble such as, "I'm sorry to bother you" or "Are you busy right now?" This can immediately change the impression you give and show that you're thoughtful, humble, and understanding. For example:

    "Sorry, I know you're busy, but I need your help to make some copies."
    Lead with Conclusions: In professional settings, people often prefer to hear conclusions first. Following a structure like "Conclusion → Reason → Example → Conclusion → Future Outlook" helps others quickly understand and accept your point. For example:

    Junior: "I took the iPad to the client, and we closed the deal fast!" (Conclusion)
    Senior: "Really? How did the iPad help close the deal?"
    Junior: "Because we were able to show them our company’s website right there." (Reason)
    Senior: "Oh, the website?"
    Junior: "Yes, especially the product animations. The client loved it and signed the contract on the spot." (Example)
    Senior: "Wow, impressive. Should I get an iPad too?"
    Junior: "You don’t need it. You’re already the top professional in the industry!" (Future Outlook)
    Phone and Chat Etiquette: Be extra polite in phone calls or chats, especially in the first 20 seconds. Follow these four steps: apologize for the interruption, introduce yourself, get to the point, and ask if it’s a good time. For example:

    "Sorry for the interruption."
    "This is [Your Name] from [Company]."
    "I’m calling regarding the lunch meeting next week."
    "Do you have a few minutes to discuss this?"
    Use "Of Course" and "I Understand": To address objections and show empathy, phrases like "I understand" or "Of course" can demonstrate calmness and objectivity, making it easier for your point to be accepted. For example:

    "Of course, quitting smoking is hard, I know from personal experience. It took me three years to quit, but the health risks have been well-publicized. Now is a great time to make that commitment."
"""

daily = """
    In everyday chats, showing emotional intelligence via messaging can help strengthen relationships. Here are some points to keep in mind:

    Expand the Topic: Avoid sticking to just one topic. Try to expand the conversation by asking for details or sharing your own experiences. For example:

    "Where do you live?" "I live in Koshigaya."
    "How do you get to Koshigaya City?"
    "Funny you mention Koshigaya, I visited Lake Town there last month."
    Add More to Your Replies: Try not to respond with just “yes” or “no.” Add something to keep the conversation going. For example:

    "Yes, I biked here. I’ve gained a few pounds recently, so I need the exercise."
    "Yes, I biked here. The weather was just perfect today!"
    Share Your Own Experiences: Responding with personal experiences helps build rapport. For example:

    A: "The forecast says we might get a thunderstorm this afternoon. I brought my foldable umbrella."
    B: "I think foldable umbrellas are great! I lost my long umbrella on the train the other day."
    Use 5W1H (Who, What, When, Where, Why, How): Even if the other person isn’t chatty, asking questions using 5W1H can help keep the conversation going.

    A: "I got robbed last week."
    B: "Oh no! When did that happen?" (When)
    A: "Last Sunday."
    B: "What did they take?" (What)
    Show Agreement and Interest: Actively show that you’re listening by echoing their words and agreeing. For example:

    A: "I’d love to spend a year in Paris."
    B: "Wow, Paris? That sounds amazing! What made you choose Paris?"
    Parrot Technique: Repeat part of what they said to show that you’re paying attention. For example:

    "Where did you go on vacation?"
    "My wife and I went to Kyoto."
    "Kyoto, huh?"
    Emotional Synchrony: Match your tone and reaction to the other person's emotions. For example:

    "I’m planning to go to Disneyland this weekend!" (Excited)
    "My mom is sick, so I’m heading home to take care of her." (Concerned)
    Small Talk Tactics: Small talk can ease tension and avoid making the other person feel pressured. Avoid personal questions and stick to broad or general topics. For example:

    "Starbucks coffee costs more than $5 a cup, it’s definitely a luxury!"
    "Instant coffee at the office works for me, but the atmosphere at Starbucks is nice."
    Common Interests: Find similarities to build a connection. For example:

    "What kind of music did you like in school?"
    "I loved listening to Green Day. I was a huge fan back in college."
    Food Topics: Food is a universally easy conversation starter. For example:

    "Do you like spicy food?"
    "I love spicy food! There’s a great new ramen place in town that serves extra-spicy bowls."
    Avoid Controversial Topics: Avoid discussing topics like religion, politics, race, or ideology to keep the conversation comfortable.

    Sympathy When Listening to Complaints: If someone is complaining, listen without denying or defending the target of their complaint. Just nod and listen attentively.

    Be Honest About Yourself: Sharing your quirks and characteristics can help people feel more at ease and lower their guard. For example:

    "I might seem confident, but I actually get nervous in large groups."
    Provide Useful Information: Offering helpful information makes conversations feel more rewarding for the other person. For example:

    "If you check out this website, you can find high-end hotels for a good price."
    Storytelling: Treat conversations like storytelling. Adding vivid details makes it more engaging. For example:

    "It took our chef five years to create this dessert to match the exact taste he experienced in France."
    Self-Deprecation: Sharing funny or embarrassing personal stories makes you more relatable. For example:

    "I missed the last train home last night and ended up back at the station—what an anti-climactic journey!"
    Offer Encouragement: Before speaking, think of the other person's situation. For example:

    "Are you okay? You’ve already done your best."
"""

scene_data = {
    "workplace-assigning tasks": """
        Considerate Intro: Start the conversation with a considerate introduction like "I'm sorry to bother you" or "Are you busy?", which can instantly change the other person's impression, showing care, humility, and understanding. For example:
        "Sorry to bother you, are you busy? But I have to trouble you to make some copies."

""",
    "workplace-persuation": """
        Use phrases like "of course" or "indeed": Acknowledge the opponent's feelings by using phrases like "indeed" or "of course" to show you understand their point of view, which demonstrates calmness and objectivity, increasing the chance that your opinion will be accepted. For example:
        "Indeed, I completely understand how difficult it is to quit smoking. I also failed several times and took three years to quit. But the risk of lung cancer has been widely advertised, so smokers should be more determined to quit!"
""",
    "workplace-general": """
            State the conclusion first: In business settings, people prefer hearing the conclusion first. Following the flow of "Conclusion → Reason → Specific example → Conclusion → Future vision" helps make your point clearer and easier to accept. For example:
            Junior: "I brought the iPad to the client, and the deal closed quickly!" (Conclusion)
            Senior: "Oh really? Why did the iPad help close the deal?"
            Junior: "Because we could show the company website immediately." (Reason)
            Senior: "The website?"
            Junior: "Yes, especially the product animations. Yesterday, when I showed the client the product animations on our website, they were so impressed and signed the contract on the spot." (Specific example)
            Senior: "Wow, that's great. Should I also buy an iPad?"
            Junior: "You could definitely close deals without it. You are an outstanding senior salesperson, admired as the best in the industry, right?" (Conclusion and Future vision)

            Telephone and chat etiquette: Be extra polite on the phone or in chats, especially in the first 20 seconds. Follow these four key points: apologize, introduce yourself, directly convey the main point, and ask if it’s convenient to continue. For example:
            "Sorry to disturb you."
            "I’m [Name] from [Company]."
            "I’m calling regarding next week’s lunch meeting."
            "Can I take up five minutes of your time?"

            When facing conflict, it's best to avoid engaging in too much argument with the other person. Ideally, don’t give them the opportunity to counter your points. Ending the conversation quickly is more important.
""",
    "daily-Opening and Continuing Conversations": """
        Respond appropriately: Show that you are actively listening by responding during the other person’s speech. For example:
        A: "Do you have any dreams for the future?"
        B: "I hope to live in Paris for a year!"
        A: "Hmm, hmm! That sounds amazing! Why did you choose Paris?"

        Parrot technique: Repeat what the other person said to show understanding. For example:
        "Where did you go for vacation?"
        "I went to Kyoto with my wife."
        "Kyoto?"

        Small talk: Small talk can ease tension without putting pressure on the other person. Avoid personal questions and choose broad or varied topics. For example:
        "A cup of coffee at Starbucks costs over 500 yen, it's a luxury."
        "Instant coffee from the office is satisfying enough, but Starbucks really has a great atmosphere!"

        Go-to topics: Remember the eight topics "Work, Weather, Seasons, Health, News, Art, Street, Transportation" to quickly start a conversation. For example:
        "You seem really busy!" (Work)
        "The weather is so hot, it's almost like heatstroke!" (Weather)
        "I’m going cherry blossom viewing this weekend!" (Season)

        Law of similarity: Find "similar points" between you and the other person in conversation to build rapport. For example:
        "What kind of music did you like in school?"
        "I liked GLAY. I was a huge fan during my college years."

        Food topics: Food is an easy topic to talk about and helps you engage in light conversation. For example:
        "Can you handle spicy food?"
        "I love spicy food! There's a great spicy ramen shop in Shinjuku."

        Talk about their strengths: Find out the other person’s hobbies or expertise and let them talk; they won’t get tired of the conversation. For example:
        "That camera looks great! Is it a [brand] DSLR?"
        "You know your stuff! It’s a new model, but it's easy to operate!"

        Emotion matching: Adjust your responses based on the other person’s emotions. For example:
        "You became a store manager after only two years in the company, that's amazing!"
        "Thank you, but there are a lot of internal issues."
        "Oh, that sounds tough. But hitting rock bottom isn't all bad; from here, you can only go up."

        Taboo topics: Avoid talking about "religion," "politics," "race," and "ideology."

""",
    "daily-Showing Empathy / Steering the Conversation": """
        Expand the topic: Avoid one-topic conversations by asking for more details or sharing your own experiences to broaden the conversation. For example:
        "Where do you live?" "I live in Koshigaya, Saitama."
        "What kind of train do you take to get to Koshigaya?"
        "You said Koshigaya? I went to Lake Town in Koshigaya last month."

        Add a sentence: Try not to answer with just "yes" or "no." Add a sentence after your response to allow the other person to continue the conversation. For example:
        "Yes, I biked here. I've gained 6 pounds recently from lack of exercise."
        "Yes, I biked here. The weather was just so nice!"

        Share experiences: Respond with your own experiences to make it easier for others to open up. For example:
        A: "The weather forecast says there might be thunderstorms this afternoon, so I brought my folding umbrella."
        B: "Speaking of umbrellas, I think folding ones are better. I left my long umbrella on the train the other day."

        Use the "5W1H" method: Even if the other person isn't good at conversing, use the "5W1H" (Who, What, When, Where, Why, How) to prompt more conversation. For example:
        "I was robbed the other day..."
        "Oh no! When did it happen?" (When)
        "Last Sunday."
        "What did they steal?" (What)
        "My bag was stolen, and inside it was my wallet and a notebook."

        Listening to complaints: When listening to someone complain, don’t deny, criticize, or take sides. Just acknowledge with a few "mm-hmm"s and move on.
""",
    "daily-general": """
        Be honest about yourself: Being upfront about your personality and characteristics can make others feel more relaxed and less defensive. For example:
        "Although I may seem carefree, I’m actually very timid and get nervous around crowds."

        Self-labeling: Label yourself with specific traits to make it easier for others to remember you. For example:
        "I drink one liter of acai berry juice every morning."

        Simplify jargon: When discussing work, use simple, easy-to-understand language, avoiding jargon. For example:
        "SEO stands for Search Engine Optimization."

        Admit your flaws: Acknowledging your flaws can make others like you more. For example:
        "I don’t really have any hobbies, so I just drink a little beer when I’m bored."

        Offer useful information: Provide the other person with helpful information so they feel like they gained something from the conversation. For example:
        "You can find cheap yet luxurious hotels on [website]."

""",
    "daily-fitting into groups": """
        Storytelling: Treat conversations like telling a story; vivid imagery makes it more engaging. For example:
        "The chef spent five years perfecting this dessert to recreate the feeling he had when he first tasted it in Paris."

        Exaggerated Metaphor: Develop your sense of humor by using exaggerated comparisons. For example:
        "My day was like being stuck in rush hour traffic, but on a Monday morning and without coffee."

        Positive Statement Method: Express opinions in a positive way to increase likability. For example:
        "Should we brainstorm some other ideas? I’m sure we can find a solution that works."

        Sharing Embarrassing Stories: Share your own embarrassing stories to make others feel closer to you. For example:
        "I missed my stop on the subway yesterday and ended up riding all the way back home. It was a round trip, but not the fun kind."

        Consideration for Others: Think about the other person before speaking to increase your charm. For example:
        "Are you okay?" "What happened?" "You really gave it your best."

        Sharing Dreams: Frequently talk about your dreams, which can create resonance and support. For example:
        "In a couple of years, I want to open my own café in New York. I’m taking barista classes to prepare for it."

""",
    "daily-warming up the atmosphere": """
       'What If' Questions to Reveal True Feelings:
        Asking hypothetical questions like "If you won the lottery, how would you spend the money?" encourages the other person to share deeper thoughts, revealing their values.

        Unanswerable Questions to Liven the Atmosphere:
        Asking questions without definite answers, like "How could we move the Rocky Mountains?" can spark curiosity and energize the conversation.

        'Closed + Open' Questions for Endless Conversations:
        Start with a closed question to confirm interest, then follow up with an open question to go deeper. For example:
        "Do you like desserts?" Then ask, "What’s your favorite dessert lately?"

        Helping to Organize the Conversation:
        When someone’s story becomes unclear, help by summarizing their key points. For example:
        "So, you're working on a project related to music production?" This helps the other person keep talking.

        Using Transition Phrases like 'Speaking of…' to Change Topics:
        Use transition phrases like "Speaking of which..." to shift topics smoothly and naturally, avoiding interruptions.

        Use Keywords from the Other Person to Steer the Conversation:
        For example: "Speaking of wine, I remember you said you're into craft beer. Have you tried any new brews recently?"

        Talk About Topics that Make the Other Person Feel Happy or Proud:
        For example, asking a newly engaged couple about their proposal story will usually get them talking with excitement.
        Example:
        A: "You’re always so focused on your work."
        B: "Writing code is actually really fun for me."
        A: "What got you interested in programming in the first place?"
        B: "It started as a hobby, but then I realized I was pretty good at it."

        Men Like Their Abilities Recognized, Women Like to Feel Appreciated:
        For example, to a man: "You're someone I can really rely on." To a woman: "Thank you, it’s so nice to have you here."

""",
    "daily-asking questions": """
        Stimulating the Other Person’s Willingness to Help:
        When asking for advice or information, explain your specific need and purpose. This encourages the other person to provide more helpful responses. Example:
        Instead of asking, "Is there a good Italian restaurant in Manhattan?" Ask:
        "I haven’t seen my mom in three years, and she’s visiting next week. I’d love to take her out for her favorite Italian food. Do you know a good spot in Manhattan?"

        Narrow and Specific Questions Get More Practical Answers:
        For example:
        Instead of asking, "How can I be more popular?" Ask:
        "If I see someone carrying heavy groceries, what’s a nice way to offer help?"

        Admit When You Don’t Understand:
        If you don’t understand something, it’s better to admit it. This encourages the other person to explain in more detail. Example:
        If the other person mentions "MVP in basketball," say:
        "MVP? What does that stand for?"

        Timely Response and Gratitude for Shared Information:
        Show appreciation for any useful information. This encourages the person to keep helping in the future. Example:
        "I went to that massage place you recommended yesterday. Thanks to you, my back feels so much better!"

""",
}


stage1_prompt = """
            # Role
            You are an expert in information organization and emotional analysis, skilled at handling complex dialogue analysis, especially in workplace interpersonal relationships. You can infer the relationship and intentions of both parties based on the dialogue content and conduct emotional and content analysis according to the dialogue context.

            # Task
            【Goal】From a segment of dialogue, you need to:
            1. Analyze the scene in which the conversation occurs, defining it by choosing from the following options: "daily","workplace"
            2. Analyze the relationship between the parties and provide a brief description, such as “Colleagues,” “Supervisor and Subordinate,” “Friends,” etc. Infer the interaction pattern based on the tone and content of the dialogue.
            3. Conduct an emotional and intent analysis of the conversation content. Pay particular attention to the other person's intentions and the user's potential emotional responses. Analyze whether the dialogue contains potential conflict, offense, collaboration, or information exchange.
            4. Based on the above analysis, infer three possible response tendencies from the user and provide suggestions.

            # Context
            The current rounds of dialogue content:
            {chat_history}
            I am: 
            {user_nick_name}
            ------------
            Note that your output should be divided into three parts, each separated by a blank line. Here’s an example:
                Inferred Scene: workplace

                Relationship Analysis: Supervisor and Subordinate. The supervisor is inquiring about project progress, with a somewhat formal tone but encouraging elements included.

                Possible Response Tendencies:
                1️⃣...
                2️⃣...
                3️⃣... 
"""

stage2_prompt1 = """
            # Role
            You are an emotionally intelligent conversation assistant capable of determining the relevant skills needed based on different dialogue scenarios and user response tendencies.

            # Task
            【Goal】From a segment of dialogue, based on the initial scene, relationship analysis, and user feedback regarding response tendencies and desired styles, identify which emotional intelligence dialogue skills are needed. You may only choose from the list below, which categorizes various techniques. "General" indicates that the technique is broadly applicable and can be selected directly based on the dialogue scene, while the others require you to consider the dialogue content and user response tendencies for selection. You must select at least one; there is no upper limit.
                "workplace-general"
                "workplace-assigning tasks"
                "workplace-persuation"
                "daily-general"
                "daily-Opening and Continuing Conversations"
                "daily-Showing Empathy / Steering the Conversation"
                "daily-fitting into groups"
                "daily-warming up the atmosphere"
                "daily-asking questions"

            # Context
            The current rounds of dialogue content:
            {chat_history}
            I am: 
            {user_nick_name}

            # Analysis
            {analyse}


            ------------
            Note that you only need to output the skills you think are necessary for this dialogue scenario, each on a new line. Below is an example:
                "workplace-general"
                "workplace-persuation"
"""

stage2_prompt2 = """
        # Role
        You are an interpersonal communication expert, well-versed in social nuances, and highly skilled at helping users resolve various workplace issues. You can provide emotionally intelligent response suggestions based on different dialogue scenarios and adjust content in real-time based on user feedback.

        # Task
        【Goal】From a segment of dialogue, starting with scene analysis, relationship analysis, and corresponding emotional intelligence response points for the scenario:
        1. Generally, you need to provide 3 responses that meet the 3 described user response tendencies. If the user provides custom tendencies, respond with 3 replies based on those and mimic the user's tone with emotionally intelligent response suggestions.
        2. If the provided response suggestions satisfy the other party, you may continue the dialogue based on the previous response and provide corresponding suggestions.
        3. The length of the response should be determined by the context; if it is a serious workplace setting, the response can be slightly longer; if it is a more relaxed atmosphere, the response can be shorter.

        # Context
        The current rounds of dialogue content:
        {chat_history}
        I am: 
        {user_nick_name}

        # Analysis
        {analyse}

        # User Custom Tendencies
        {userPrefer}

        # Techniques and Key Points for Emotionally Intelligent Responses in Similar Scenarios:
        {temp}
        ------------
        Note that you only need to provide three specific response contents without generating extra quotes like "" . Below is an example; write one response per line, separating the three responses with line breaks:
            1️⃣...
            2️⃣...
            3️⃣...
        """

workplace_zh = """
在职场上对话时，表现出高情商同样非常重要。以下是一些在聊天内容方面的注意点和要点：
    体贴前言：对话开头加上体贴他人的前言，如“很抱歉打扰您”或“您在忙吗？”，能瞬间扭转他人印象，表现出关心、谦虚和善解人意。例如：
    “不好意思，你在忙啊？不过得麻烦你去影印一下。”
    
    先说结论：在商业场合中，人们喜欢先听结论。按照“结论→理由→具体事例→结论→远景”的流程讲话，能使对方更容易理解和接受你的观点。例如：
    晚辈：“带iPad到客户那里，生意很快就成交了！”（结论）
    前辈：“啊，这样吗？为什么用iPad可以很快成交？”
    晚辈：“因为当场就可以给对方看我们公司的网页。”（理由）
    前辈：“看网页？”
    晚辈：“是，特别是产品动画。昨天向客户展示公司网页上的产品动画，结果他们都赞不绝口地说：‘啊，这可真棒！’当场就签约了。”（具体事例）
    前辈：“噢，真厉害。我是不是也来买台iPad？”
    晚辈：“您不用靠iPad也肯定能拿到合约。您本来就是优秀的资深业务，还是众所期望的业界第一，对吧？”（结论与远景）
    
    电话和聊天礼仪：电话或聊天中需更加注意礼貌，开头20秒尤其重要。遵循以下四大要点：表示歉意、自报姓名、直接传达要事、询问是否方便继续。例如：
    “冒昧打扰您，非常抱歉。”
    “我是××公司的某某人。”
    “为了下周午餐会议的事，打电话给您。”
    “是否可占用您5分钟时间？”
    
    使用“当然”“的确”句型：顾及反对者心情，使用“的确”或“当然”来承认对方观点，表现出冷静和客观，增加自己意见被接受的概率。例如：
    “的确，戒烟的难处我完全明白。我自己也是失败好几次，花了三年才戒掉。但是肺癌的风险已一再宣传，吸烟者更该下定决心戒掉才是啊！”
"""

daily_zh = """
在日常聊天时，通过聊天软件表现出高情商是建立良好人际关系的重要因素。以下是一些注意点和要点：
    拓展话题：避免单一话题的对话，尝试通过询问详细信息或分享自己的经历来拓展话题。例如：
    “你住在哪儿？”“我住在埼玉的越谷。”
    “要去越谷市，得搭哪种电车？”
    “你说越谷吗？上个月我也去了越谷的Lake Town玩。”
    
    加一句话：回应尽可能别只回“是”或“不是”，在回话之后加上一句话，让对方能接续你的话。例如：
    “嗯，是骑自行车来的。最近运动量不够，胖了6斤啊。”
    “嗯，是骑自行车来的。因为天气太舒适了！”
    
    分享经历：以“自身经历”回应对方，较容易让人敞开心扉。例如：
    A：“天气预报说午后可能有雷阵雨，我带了折叠伞出来。”
    B：“说到雨伞，我觉得还是折叠伞比较好。我前几天带长伞出门，结果丢在电车里。”
    
    利用“5W1H”：就算对方不善言辞，利用“5W1H”引出话题。
    ·Who（谁）·What（什么）·When（何时）·Where（在哪儿）·Why（为何）·How（如何）
    例如：
    “上回遭小偷了……”
    “啊！遭小偷了？什么时候？”（When）
    “上礼拜天。”
    “被偷了什么？”（What）
    “我的包包被偷了，里面有钱包，还有记事本。”
    适时附和：在对方说话时，积极附和，表现出你有认真听。例如：
    A：“将来有什么梦想吗？”
    B：“希望去巴黎待一年！”
    A：“嗯，嗯！那真不错啊！为什么选巴黎呢？”
    
    鹦鹉回话法：重复对方的话，表达理解。例如：
    “这个假期你去哪儿了？”
    “跟我老婆去了京都。”
    “京都吗？”
    
    情绪共鸣：根据对方的情绪调整自己的语气和表情。例如：
    “这个周末打算去迪士尼乐园。”（高兴）
    “妈妈生病了，打算回老家探望。”（担心）
    高明闲聊术：闲聊能卸除紧张，不给对方压力。避免问私人问题，选择“大方向”或“各种类型”话题。例如：
    “星巴克一杯咖啡要价500日元以上，真是奢侈品。”
    “喝杯办公室里的即溶咖啡就很满足，不过星巴克的气氛真的很好！”
    
    万用话题集：记住“工、天、季、健、新、艺、街、交”这八个话题。可快速开启对话。例如：
    “你看起来很忙啊！”（工作）
    “天气热到要中暑了！”（天气）
    “周末要去赏樱花！”（季节）
    
    相似法则：通过聊天找出彼此的“相似点”，建立亲切感。例如：
    “你学生时代喜欢过什么样的音乐？”
    “我喜欢GRAY，我念大学的时候是他的疯狂粉丝。”
    
    食物话题：食物是最容易聊的话题，轻松搭上话。例如：
    “难不成你能吃辣？”
    “我最爱吃辣的！最近新宿有间卖麻辣拉面的店很好吃。”
    对方专长：找出对方的嗜好或擅长的事物，让他说，聊再久也不累。例如：
    “那台照相机很棒啊！是××牌的单反相机吗？”
    “你知道啊？是最近刚出的新产品，不过操作很容易噢！”
    情绪共鸣：根据对方的情绪调整自己的回应。例如：
    “进公司才两年就当上店长，太厉害了吧！”
    “谢谢你的夸奖，不过内部问题可是一大堆。”
    “是噢，那岂不是很糟糕？不过跌到谷底也不算坏事，现在已经是最糟的情况，再来就只有进步的空间了。”
    禁忌话题：避免谈“宗教”“政治”“种族”“思想”这四类话题。
    聆听抱怨：听别人抱怨时不否定、不批判、不袒护对方所抱怨的对象。例如：
    回几句“嗯嗯”，听过就算。
    坦率自我：坦率地说出自己的个性和特点，能让对方感到轻松，减少防备。例如：
    “虽然我看起来豪放不羁，但其实胆子很小，见到人多就紧张。”
    
    自我标签：给自己贴上具体的标签，方便对方记住你。例如：
    “我每天早上会喝1升的巴西莓果汁。”
    
    简化专业术语：聊工作时，用简单易懂的语言，不要卖弄专业术语。例如：
    “SEO是指搜索引擎优化。”
    
    直言缺点：坦率地承认自己的缺点，能让对方对你更有好感。例如：
    “我没什么嗜好，所以无聊时喝点啤酒。”
    
    提供有用信息：提供对方可用的信息，让对方觉得跟你聊天有收获。例如：
    “上××网站可以找到既便宜又高级的旅馆。”
    说故事：把聊天当成讲故事，有画面更吸引人。例如：
    “老板为了做出当年他在法国吃到的那种感动滋味，耗时五年才研制出这种极品甜点。”
    
    夸张比喻：锻炼幽默感，使用夸张比喻。例如：
    “我的心情就像是被强迫去听哆啦A梦里的胖虎演唱会一样。”
    
    肯定叙述法：用肯定的方式表达意见，提升好感度。例如：
    “是不是再另外想其他办法？相信一定会有好结果的！”
    
    糗事经验：主动分享自己的糗事，让人感到亲近。例如：
    “昨天搭末班电车睡过头了，结果这趟旅行的目的地还是自己的家，真的是一点都不浪漫……”
    
    为对方着想：说话前先为对方设想，提升自己的魅力。例如：
    “你没事吧？”“身体怎么了？”“你已经尽力了。”
    
    分享梦想：常跟人们说你的梦想，能引发共鸣和支持。例如：
    “三年内我想去纽约开间画廊，上课就是为去纽约做准备。”
    “假设问题”能套出“真心话”
    提出假设性问题，如“如果你中了彩票，你会怎么用这笔钱？”能让对方分享更深层次的想法，了解他们的价值观。
    
    “没答案的问题”，活络现场气氛最好用
    提出没有标准答案的问题，例如“怎样让富士山移动”，能引发大家的兴趣，带动聊天气氛。
    
    “封闭+开放”的询问，怎么聊都有话讲
    先用封闭式问题确认对方兴趣，再用开放式问题深入对话。例如：“喜欢甜的东西吗？”然后问：“那最近有好吃的甜点吗？”
    
    适时帮对方“整理对话”，聊多久都不累
    当对方说话混乱时，帮他整理重点，例如：“嗯，所以你现在做的这份工作与乐器有关？”这样能帮助对方继续讲下去。
    
    使用转向语如“那么”“说到这个”，能自然地改变话题，避免让对方觉得被打断。
    
    利用对方话中的关键词，自然地转移到新的话题。例如：“说到晚餐时喝酒，××你好像很能喝日本酒？”
    聊能让对方感到喜欢、快乐、幸福的事物。例如，问新婚夫妻他们初识的情景，对方自然会滔滔不绝地说。例子：
    A：“你真是个工作狂。”
    B：“编辑杂志非常有趣，我从未厌倦过。”
    A：“你到底为什么会想当杂志编辑呢？”
    B：“大学时朋友找我进来这行，后来发现自己很有才华。”
    男人喜欢能力被认可，女人喜欢被爱。例如，男性：“你真是个值得托付的人。”女性：“谢谢，有你真好。”
    想要获得有用的资讯，可以刺激对方的“贡献心”。说明你的具体需求和目的，会让对方更愿意提供帮助。例子：
    问：“银座有哪家意大利餐厅不错？”改为：“我三年没见到我妈了，她下周来看我，我想带她去吃她喜欢的意大利面，银座有哪家意大利餐厅不错？”
    
    提问时尽量范围小且具体，这样对方更容易给出实用的答案。例子：
    问：“怎样做才能受欢迎？”改为：“当看到女孩子两手提着很重的东西，这时该对她说什么呢？”
    当你不明白某个话题时，不要装懂，坦白表示不懂会让对方更愿意解释。例子：
    对方提到“Offside”，你说：“啊？Offside？那是什么意思？”
    
    对于对方提供的信息，及时回应和表示感谢，能让对方更愿意继续提供帮助。例子：
    “我昨天有去你说的那家按摩店，托你的福，酸痛和压力都消除了，还好问了你！”
"""

scene_data_zh = {
    "职场-安排工作": """
        体贴前言：对话开头加上体贴他人的前言，如“很抱歉打扰您”或“您在忙吗？”，能瞬间扭转他人印象，表现出关心、谦虚和善解人意。例如：
        “不好意思，你在忙啊？不过得麻烦你去影印一下。”
""",
    "职场-说服": """
        使用“当然”“的确”句型：顾及反对者心情，使用“的确”或“当然”来承认对方观点，表现出冷静和客观，增加自己意见被接受的概率。例如：
        “的确，戒烟的难处我完全明白。我自己也是失败好几次，花了三年才戒掉。但是肺癌的风险已一再宣传，吸烟者更该下定决心戒掉才是啊！”
""",
    "职场-通用": """
            先说结论：在商业场合中，人们喜欢先听结论。按照“结论→理由→具体事例→结论→远景”的流程讲话，能使对方更容易理解和接受你的观点。例如：
            晚辈：“带iPad到客户那里，生意很快就成交了！”（结论）
            前辈：“啊，这样吗？为什么用iPad可以很快成交？”
            晚辈：“因为当场就可以给对方看我们公司的网页。”（理由）
            前辈：“看网页？”
            晚辈：“是，特别是产品动画。昨天向客户展示公司网页上的产品动画，结果他们都赞不绝口地说：‘啊，这可真棒！’当场就签约了。”（具体事例）
            前辈：“噢，真厉害。我是不是也来买台iPad？”
            晚辈：“您不用靠iPad也肯定能拿到合约。您本来就是优秀的资深业务，还是众所期望的业界第一，对吧？”（结论与远景）
            
            电话和聊天礼仪：电话或聊天中需更加注意礼貌，开头20秒尤其重要。遵循以下四大要点：表示歉意、自报姓名、直接传达要事、询问是否方便继续。例如：
            “冒昧打扰您，非常抱歉。”
            “我是××公司的某某人。”
            “为了下周午餐会议的事，打电话给您。”
            “是否可占用您5分钟时间？”
""",
    "日常-打开话题/延续对话": """
        适时附和：在对方说话时，积极附和，表现出你有认真听。例如：
        A：“将来有什么梦想吗？”
        B：“希望去巴黎待一年！”
        A：“嗯，嗯！那真不错啊！为什么选巴黎呢？”
        
        鹦鹉回话法：重复对方的话，表达理解。例如：
        “这个假期你去哪儿了？”
        “跟我老婆去了京都。”
        “京都吗？”
        高明闲聊术：闲聊能卸除紧张，不给对方压力。避免问私人问题，选择“大方向”或“各种类型”话题。例如：
        “星巴克一杯咖啡要价500日元以上，真是奢侈品。”
        “喝杯办公室里的即溶咖啡就很满足，不过星巴克的气氛真的很好！”
    
        万用话题集：记住“工、天、季、健、新、艺、街、交”这八个话题。可快速开启对话。例如：
        “你看起来很忙啊！”（工作）
        “天气热到要中暑了！”（天气）
        “周末要去赏樱花！”（季节）
    
        相似法则：通过聊天找出彼此的“相似点”，建立亲切感。例如：
        “你学生时代喜欢过什么样的音乐？”
        “我喜欢GRAY，我念大学的时候是他的疯狂粉丝。”
        
        食物话题：食物是最容易聊的话题，轻松搭上话。例如：
        “难不成你能吃辣？”
        “我最爱吃辣的！最近新宿有间卖麻辣拉面的店很好吃。”
        对方专长：找出对方的嗜好或擅长的事物，让他说，聊再久也不累。例如：
        “那台照相机很棒啊！是××牌的单反相机吗？”
        “你知道啊？是最近刚出的新产品，不过操作很容易噢！”
        情绪共鸣：根据对方的情绪调整自己的回应。例如：
        “进公司才两年就当上店长，太厉害了吧！”
        “谢谢你的夸奖，不过内部问题可是一大堆。”
        “是噢，那岂不是很糟糕？不过跌到谷底也不算坏事，现在已经是最糟的情况，再来就只有进步的空间了。”
        禁忌话题：避免谈“宗教”“政治”“种族”“思想”这四类话题。
""",
    "日常-展示同理心/引导话题": """
        拓展话题：避免单一话题的对话，尝试通过询问详细信息或分享自己的经历来拓展话题。例如：
        “你住在哪儿？”“我住在埼玉的越谷。”
        “要去越谷市，得搭哪种电车？”
        “你说越谷吗？上个月我也去了越谷的Lake Town玩。”
        
        加一句话：回应尽可能别只回“是”或“不是”，在回话之后加上一句话，让对方能接续你的话。例如：
        “嗯，是骑自行车来的。最近运动量不够，胖了6斤啊。”
        “嗯，是骑自行车来的。因为天气太舒适了！”
        
        分享经历：以“自身经历”回应对方，较容易让人敞开心扉。例如：
        A：“天气预报说午后可能有雷阵雨，我带了折叠伞出来。”
        B：“说到雨伞，我觉得还是折叠伞比较好。我前几天带长伞出门，结果丢在电车里。”
        
        利用“5W1H”：就算对方不善言辞，利用“5W1H”引出话题。
        ·Who（谁）·What（什么）·When（何时）·Where（在哪儿）·Why（为何）·How（如何）
        例如：
        “上回遭小偷了……”
        “啊！遭小偷了？什么时候？”（When）
        “上礼拜天。”
        “被偷了什么？”（What）
        “我的包包被偷了，里面有钱包，还有记事本。”
        聆听抱怨：听别人抱怨时不否定、不批判、不袒护对方所抱怨的对象。例如：
        回几句“嗯嗯”，听过就算。
""",
    "日常-通用": """
        坦率自我：坦率地说出自己的个性和特点，能让对方感到轻松，减少防备。例如：
        “虽然我看起来豪放不羁，但其实胆子很小，见到人多就紧张。”
        
        自我标签：给自己贴上具体的标签，方便对方记住你。例如：
        “我每天早上会喝1升的巴西莓果汁。”
        
        简化专业术语：聊工作时，用简单易懂的语言，不要卖弄专业术语。例如：
        “SEO是指搜索引擎优化。”
        
        直言缺点：坦率地承认自己的缺点，能让对方对你更有好感。例如：
        “我没什么嗜好，所以无聊时喝点啤酒。”
        
        提供有用信息：提供对方可用的信息，让对方觉得跟你聊天有收获。例如：
        “上××网站可以找到既便宜又高级的旅馆。”
""",
    "日常-融入群体": """
        说故事：把聊天当成讲故事，有画面更吸引人。例如：
        “老板为了做出当年他在法国吃到的那种感动滋味，耗时五年才研制出这种极品甜点。”
        
        夸张比喻：锻炼幽默感，使用夸张比喻。例如：
        “我的心情就像是被强迫去听哆啦A梦里的胖虎演唱会一样。”
        
        肯定叙述法：用肯定的方式表达意见，提升好感度。例如：
        “是不是再另外想其他办法？相信一定会有好结果的！”
        
        糗事经验：主动分享自己的糗事，让人感到亲近。例如：
        “昨天搭末班电车睡过头了，结果这趟旅行的目的地还是自己的家，真的是一点都不浪漫……”
        
        为对方着想：说话前先为对方设想，提升自己的魅力。例如：
        “你没事吧？”“身体怎么了？”“你已经尽力了。”
        
        分享梦想：常跟人们说你的梦想，能引发共鸣和支持。例如：
        “三年内我想去纽约开间画廊，上课就是为去纽约做准备。”
""",
    "日常-炒热气氛": """
        “假设问题”能套出“真心话”
        提出假设性问题，如“如果你中了彩票，你会怎么用这笔钱？”能让对方分享更深层次的想法，了解他们的价值观。
        
        “没答案的问题”，活络现场气氛最好用
        提出没有标准答案的问题，例如“怎样让富士山移动”，能引发大家的兴趣，带动聊天气氛。
        
        “封闭+开放”的询问，怎么聊都有话讲
        先用封闭式问题确认对方兴趣，再用开放式问题深入对话。例如：“喜欢甜的东西吗？”然后问：“那最近有好吃的甜点吗？”
        
        适时帮对方“整理对话”，聊多久都不累
        当对方说话混乱时，帮他整理重点，例如：“嗯，所以你现在做的这份工作与乐器有关？”这样能帮助对方继续讲下去。
    
        使用转向语如“那么”“说到这个”，能自然地改变话题，避免让对方觉得被打断。
    
        利用对方话中的关键词，自然地转移到新的话题。例如：“说到晚餐时喝酒，××你好像很能喝日本酒？”
        聊能让对方感到喜欢、快乐、幸福的事物。例如，问新婚夫妻他们初识的情景，对方自然会滔滔不绝地说。例子：
        A：“你真是个工作狂。”
        B：“编辑杂志非常有趣，我从未厌倦过。”
        A：“你到底为什么会想当杂志编辑呢？”
        B：“大学时朋友找我进来这行，后来发现自己很有才华。”
        男人喜欢能力被认可，女人喜欢被爱。例如，男性：“你真是个值得托付的人。”女性：“谢谢，有你真好。”
""",
    "日常-发问": """
        想要获得有用的资讯，可以刺激对方的“贡献心”。说明你的具体需求和目的，会让对方更愿意提供帮助。例子：
        问：“银座有哪家意大利餐厅不错？”改为：“我三年没见到我妈了，她下周来看我，我想带她去吃她喜欢的意大利面，银座有哪家意大利餐厅不错？”
        
        提问时尽量范围小且具体，这样对方更容易给出实用的答案。例子：
        问：“怎样做才能受欢迎？”改为：“当看到女孩子两手提着很重的东西，这时该对她说什么呢？”
        当你不明白某个话题时，不要装懂，坦白表示不懂会让对方更愿意解释。例子：
        对方提到“Offside”，你说：“啊？Offside？那是什么意思？”
        
        对于对方提供的信息，及时回应和表示感谢，能让对方更愿意继续提供帮助。例子：
        “我昨天有去你说的那家按摩店，托你的福，酸痛和压力都消除了，还好问了你！”
""",
}

stage1_prompt_zh = """
            # 角色
            你是信息整理和情感分析专家，擅长处理复杂的对话分析，尤其是职场中的人际关系。你能够基于对话内容推测双方的关系和意图，并根据对话背景进行情感和内容分析。
            # 任务
            【目标】从一段对话内容中：
            1. 分析对话发生的场景，给出场景定义，从以下几个选项中选择：“日常聊天”、“职场”。
            2. 分析双方的关系，并给出简要描述，如：“同事”、“上级与下属”、“朋友”等。依据对话的语气和内容推断双方的互动模式。
            3. 对聊天内容进行情感和意图分析。特别关注对方的意图以及用户可能的情感反应。分析对话是否包含潜在的冲突、冒犯、合作、或信息交换。
            4. 根据上述分析，推测出用户可能的3个回复倾向，并给出建议。
            # 上下文
            当前的几轮对话内容：
            {chat_history}
            我是这段对话记录中的：
            {user_nick_name}
            ------------
            注意，你的输出应分为三部分，每部分用空行隔开。下面是一个例子：
                推测场景：职场
                双方关系分析：上级与下属。上级正在询问项目进展，语气较为正式，但其中有鼓励成分。
                可能的回复倾向：
                1️⃣...
                2️⃣...
                3️⃣... 
"""

stage2_prompt1_zh = """
            # 角色
            你是高情商对话助手，能根据不同的对话场景和用户的回复倾向，判断其需要哪些相关技巧的数据。
            # 任务
            【目标】从一段对话，初步的场景、双方关系分析，以及用户反馈的回复倾向与期望风格为依据，判断需要哪些高情商对话技巧。
            你仅可从下方列表中进行选择，其中内容是不同技巧的简单分类，“通用”表示该技巧泛用性较强，可以根据对话场景直接选择，其余细分则需要你结合对话内容和用户回复倾向综合考虑后再选取，至少选取一个，无上限。
                "职场-通用"
                "职场-安排工作"
                "职场-说服"
                "日常-通用"
                "日常-打开话题/延续对话"
                "日常-展示同理心/引导话题"
                "日常-融入群体"
                "日常-炒热气氛"
                "日常-发问"
            # 上下文
            当前的几轮对话内容：
            {chat_history}
            我是这段对话记录中的：
            {user_nick_name}
            
            # 分析
            {analyse}

            ------------
            注意，你只需要输出你认为该对话场景需要的技巧，每个一行，下方是一个例子：
                "职场-通用"
                "职场-说服"

"""

stage2_prompt2_zh = """
        # 角色
        你是人际交往专家，精通人情世故，非常擅长帮助用户解决各种职场问题。能根据不同的对话场景，给出高情商回复的建议，并根据用户反馈实时调整内容，提供指导。
        # 任务
        【目标】从一段对话，场景分析，双方关系分析，以及对应场景的高情商回复要点出发：
        1. 通常而言，你需要给出3条满足以下所述的3种用户回复倾向，如果用户给出自定义倾向则根据用户自定义倾向给出3条回复，并模仿用户说话语气的高情商回复建议。
        2. 若给出的回复建议对方较为满意，可在已经作此回复的基础上继续推进对话，给出对应的建议。
        3. 回复的长短根据场景来决定，如果是较为严肃的工作场景，回复可以稍微长一点，如果是比较轻松的氛围，回复可以短一点。
        # 上下文
        当前的几轮对话内容：
        {chat_history}
        我是这段对话记录中的：
        {user_nick_name}
        # 分析
        {analyse}
        # 用户自定义倾向
        {userPrefer}
        # 相似场景下，高情商回复的一些技巧与要点：
        {temp}
        ------------
        注意，你只需要给出三个具体的回复内容，一定不要生成引号""这种多余内容，以下是一个例子，一个回复写一行，三条回复用换行区分开：
            1️⃣...
            2️⃣...
            3️⃣...
        """


